<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic JS Review</title>
  <style>
    h1 {
      font-size: 3rem;
      background-color: #fff000;
      text-align: center;
    }

    .menu-wrapper {
      display: flex;
      justify-content: center;
    }

    .menu {
      margin: .1em;
      padding: .5em;
      
      color: #FFFFFF;
      background: dodgerblue;

      text-decoration: none;
      list-style: none;
    }

    .menu:hover {
      background: darkblue;
    }

    .menu-active {
      background: orange;
    }
  </style>
  <!-- <script>
    // ES5 문법을 사용한 이전의 접근 방법
    // window.onload = function () {
    //   const title = document.getElementById('main-title');
    //   console.log(title);
    // };

    /* 
     * ES6 문법을 사용한 최근의 접근 방법
     * DOMContentLoaded 이벤트를 사용하면, 이미지 로딩을 기다리지 않는다
     */
    window.addEventListener('load', () => {
      const title = document.getElementById('main-title');
      console.log(title);
    });
  </script> -->
</head>
<body>
  <h1 id="main-title">DOM & Event</h1>
  
  <nav class="menu-wrapper">
    <a href="#" class="menu" data-menu="1">Menu #1</a>
    <a href="#" class="menu" data-menu="3">Menu #2</a>
    <a href="#" class="menu" data-menu="2">Menu #3</a>
  </nav>

  <script>
    let currenMenu;
    const menuWrapper = document.querySelector('.menu-wrapper');

    activate = (elem) => {
      elem.classList.add('menu-active');
      currenMenu = elem;
    }

    deactivate = () => {
      currenMenu.classList.remove('menu-active');
    } 

    /* 
     * menuWrapper.onclick - 이벤트 한 개만 등록 가능
     */
    menuWrapper.addEventListener('click', (event) => {
      if (currenMenu) {
        deactivate();
      }
      // event.target을 통해 이벤트를 menu-wrapper에 위임할 수 있다
      // event.target.classList.add('menu-active');
      // currenMenu = event.target;
      activate(event.target);
    })
  </script>
</body>
</html>